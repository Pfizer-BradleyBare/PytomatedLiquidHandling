// {{{ 2 "IncludeGuard" "PragmaOnce"
#pragma once
// }} ""
#include "HSLErrLib.hsl"
#include "HSLJson\\HSLJson.hsl"
#include "HSLUtilLib.hsl"
#include "HSLStrLib.hsl"
#include "HSLTrcLib.hsl"
/* {{ 2 "LibraryInsertLine" "" */ // }} ""
// {{ 2 "TemplateIncludeBlock" ""
#include "HSLMETEDLib.hs_"
#include "HSLMECCLib.hs_"
// }} ""
// {{{ 2 "LibraryNamespace" "Begin"
namespace ERRORPARSER {
// }} ""
/* {{ 2 "VariableInsertLine" "" */ // }} ""
// {{{ 2 "SubmethodForwardDeclaration" ""
function ExtractErrorInfo( object & JsonObject ) void ;
// }} ""
function _InitLibrary() {
// {{ 2 "AutoInitBlock" ""
// }} ""
}
function _ExitLibrary() {
// {{ 2 "AutoExitBlock" ""
// }} ""
}
// {{{ 5 "ExtractErrorInfo" "Begin"
function ExtractErrorInfo( object & JsonObject ) void {
// }} ""
private variable ID;
private variable Minor;
private variable Major;
private variable Code;
private variable Description;
private object ErrorObject;
private variable NumErrorData;
private variable Counter;
private variable Data;
private variable ErrorData[];
private variable Test;
private variable LowercaseDescription;
private variable Pos;
// {{ 5 "ExtractErrorInfo" "InitLocals"
// }} ""
// {{{ 1 1 0 "d0c8f6fb_b0e4_45e5_b6e8ddc31b25fd2b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::Create(ErrorObject);
// }} ""
// {{ 2 1 0 "6d74dc7a_bf2b_42c6_8e599e8bed763a5f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 3 1 0 "ac985d8f_d783_42da_b3e4b53df1b6b06f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ID = ErrGetId();
// }} ""
// {{{ 4 1 0 "bc24a24e_96f4_42db_904b142a1571c9d1" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetIntegerProperty(ErrorObject, Translate("StatusCode"), ID);
// }} ""
// {{ 5 1 0 "6d74dc7a_bf2b_42c6_8e599e8bed763a5f" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 6 1 0 "991f40be_c18c_465d_9b3b9a725c187990" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 7 1 0 "ddceff86_87ab_4a08_b595a327a4345e11" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Code = ErrCode(ID);
// }} ""
// {{{ 8 1 0 "bd43b389_9ffe_45b6_b45d3c4f5081cbfe" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetIntegerProperty(ErrorObject, Translate("VectorCode"), Code);
// }} ""
// {{{ 9 1 0 "b81e2562_d764_4494_a6039105afaeef93" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Major = ErrMajor(ID);
// }} ""
// {{{ 10 1 0 "c3aa7d36_ada3_4829_b6897c01456cbf8f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetIntegerProperty(ErrorObject, Translate("VectorMajorID"), Major);
// }} ""
// {{{ 11 1 0 "2e70c674_a5a5_44d6_a9755991278461a5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Minor = ErrMinor(ID);
// }} ""
// {{{ 12 1 0 "b46d4302_492a_445c_9c9210c9187a8d86" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetIntegerProperty(ErrorObject, Translate("VectorMinorID"), Minor);
// }} ""
// {{ 13 1 0 "991f40be_c18c_465d_9b3b9a725c187990" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 14 1 0 "58ef373b_6a02_4373_83272e27b5d1fd10" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 15 1 0 "a104329b_e7eb_4894_b279e756620a1996" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Description = ErrGetDescription();
// }} ""
// {{{ 16 1 0 "0c95410f_1804_4874_922ec35d4dc31d1f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetStringProperty(ErrorObject, Translate("Description"), Description);
// }} ""
// {{ 17 1 0 "58ef373b_6a02_4373_83272e27b5d1fd10" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 18 1 0 "eac8f6b2_584f_4b90_adbccd42371e1981" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 19 1 0 "fbc91db2_0656_4f96_91f4aab4e7874f8b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
LowercaseDescription = StrMakeLowerCopy(Description);
// }} ""
// {{{ 20 1 0 "59d3d589_1879_478d_bed1a5616b6cde7e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Pos = StrFind(LowercaseDescription, Translate("vector"));
// }} ""
// {{ 21 1 0 "b84e00d7_00cf_4dd8_aa4b82a94a7a2c7a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Pos == -1)
{
// }} ""
// {{{ 22 1 0 "87a04264_a602_4651_8ce88d5d9e948324" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetBooleanProperty(ErrorObject, Translate("IsVectorError"), 0);
// }} ""
// {{ 23 1 0 "b84e00d7_00cf_4dd8_aa4b82a94a7a2c7a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 24 1 0 "5ca4f05f_4ee6_4dc5_868dd5e32d856537" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetBooleanProperty(ErrorObject, Translate("IsVectorError"), 1);
// }} ""
// {{ 25 1 0 "b84e00d7_00cf_4dd8_aa4b82a94a7a2c7a" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 26 1 0 "eac8f6b2_584f_4b90_adbccd42371e1981" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{ 27 1 0 "9a77f888_ff31_4bf1_895f9f309caab4ca" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 28 1 0 "58b4d344_6421_4247_b071459c81eec59d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
NumErrorData = ErrGetDataAt(0);
// }} ""
// {{{ 29 1 0 "e67e0bf1_6a2f_4dbd_9adf073f1af576e3" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetArray(ErrorObject, Translate("Data"));
// }} ""
// {{ 30 1 0 "e12191fc_14c7_4e65_8db087f3d407eda8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (NumErrorData > 0)
{
// }} ""
// {{{ 31 1 0 "43359b52_e115_421a_8e170616476722a0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetArrayLength(ErrorObject, Translate("Data"), NumErrorData);
// }} ""
// {{ 32 1 0 "d9f50728_c658_4186_ac9f86fa93b3186c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumErrorData;)
{
Counter = Counter + 1;
// }} ""
// {{{ 33 1 0 "fc4775ac_6863_4ff5_ae5851397ce8b15b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Data = ErrGetDataAt(Counter);
// }} ""
// {{{ 34 1 0 "f68886d5_a985_49a6_8d24b8d3312d67b4" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Test = Util::IsFloat(Data);
// }} ""
// {{ 35 1 0 "52ef1424_6ce7_498c_80da0203833121aa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Test == 1)
{
// }} ""
// {{{ 36 1 0 "ea64541f_b79d_4597_b92baf5173b90ea7" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetFloatArrayElement(ErrorObject, Translate("Data"), Counter, Data);
// }} ""
// {{ 37 1 0 "52ef1424_6ce7_498c_80da0203833121aa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 38 1 0 "f30794a2_ec4f_4b9f_9a126741627f15ed" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Test = Util::IsInteger(Data);
// }} ""
// {{ 39 1 0 "e6fa1433_0b4b_4125_875f31958a32a8d5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Test == 1)
{
// }} ""
// {{{ 40 1 0 "e16b1abd_9cba_473d_82247680979e674e" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetIntegerArrayElement(ErrorObject, Translate("Data"), Counter, Data);
// }} ""
// {{ 41 1 0 "e6fa1433_0b4b_4125_875f31958a32a8d5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 42 1 0 "a901f396_a161_47c1_b588e6cdcf07baa0" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Test = Util::IsString(Data);
// }} ""
// {{ 43 1 0 "0a871bae_2e5b_43df_b952dc581ee4c13b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Test == 1)
{
// }} ""
// {{{ 44 1 0 "13ae1920_c936_434f_8e0686135addb4bf" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetStringArrayElement(ErrorObject, Translate("Data"), Counter, Data);
// }} ""
// {{ 45 1 0 "0a871bae_2e5b_43df_b952dc581ee4c13b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 46 1 0 "7682c18d_64be_465b_af7b89c72910266a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetBooleanArrayElement(ErrorObject, Translate("Data"), Counter, Data);
// }} ""
// {{ 47 1 0 "0a871bae_2e5b_43df_b952dc581ee4c13b" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 48 1 0 "e6fa1433_0b4b_4125_875f31958a32a8d5" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 49 1 0 "52ef1424_6ce7_498c_80da0203833121aa" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 50 1 0 "d9f50728_c658_4186_ac9f86fa93b3186c" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{ 51 1 0 "e12191fc_14c7_4e65_8db087f3d407eda8" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 52 1 0 "9a77f888_ff31_4bf1_895f9f309caab4ca" "{586C3429-F931-405f-9938-928E22C90BFA}"

// }} ""
// {{{ 53 1 0 "0fad4625_ae1e_4fad_8b84407367d7153a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrClear();
// }} ""
// {{{ 54 1 0 "8bc001d9_fc15_464c_a84f44be67255751" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetJsonProperty(JsonObject, Translate("Error"), ErrorObject);
// }} ""
// {{{ 55 1 0 "5e0d61e5_926c_40b3_b84f64e4ef9d9500" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::Release(ErrorObject);
// }} ""
// {{{ 5 "ExtractErrorInfo" "End"
}
// }} ""
/* {{ 2 "SubmethodInsertLine" "" */ // }} ""
// {{{ 2 "LibraryNamespace" "End"
} // library namespace
// }} ""
// $$author=BAREB$$valid=0$$time=2023-11-17 19:42$$checksum=18aea812$$length=084$$