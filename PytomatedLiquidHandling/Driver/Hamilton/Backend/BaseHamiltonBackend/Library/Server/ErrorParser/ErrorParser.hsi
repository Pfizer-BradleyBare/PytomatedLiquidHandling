// {{{ 2 "IncludeGuard" "PragmaOnce"
#pragma once
// }} ""
#include "HSLErrLib.hsl"
#include "HSLJson\\HSLJson.hsl"
#include "HSLUtilLib.hsl"
/* {{ 2 "LibraryInsertLine" "" */ // }} ""
// {{ 2 "TemplateIncludeBlock" ""
#include "HSLMETEDLib.hs_"
#include "HSLMECCLib.hs_"
// }} ""
// {{{ 2 "LibraryNamespace" "Begin"
namespace ERRORPARSER {
// }} ""
/* {{ 2 "VariableInsertLine" "" */ // }} ""
// {{{ 2 "SubmethodForwardDeclaration" ""
function ExtractErrorInfo( object & JsonObject ) void ;
// }} ""
function _InitLibrary() {
// {{ 2 "AutoInitBlock" ""
// }} ""
}
function _ExitLibrary() {
// {{ 2 "AutoExitBlock" ""
// }} ""
}
// {{{ 5 "ExtractErrorInfo" "Begin"
function ExtractErrorInfo( object & JsonObject ) void {
// }} ""
private variable ID;
private variable Minor;
private variable Major;
private variable Code;
private variable Description;
private object ErrorObject;
private variable NumErrorData;
private variable Counter;
private variable Data;
private variable ErrorData[];
private variable Test;
// {{ 5 "ExtractErrorInfo" "InitLocals"
// }} ""
// {{{ 1 1 0 "d0c8f6fb_b0e4_45e5_b6e8ddc31b25fd2b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::Create(ErrorObject);
// }} ""
// {{{ 2 1 0 "26c3943f_8b24_4b98_acb44b04a95f5f6d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetIntegerProperty(ErrorObject, Translate("ID"), ID);
// }} ""
// {{{ 3 1 0 "ac985d8f_d783_42da_b3e4b53df1b6b06f" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ID = ErrGetId();
// }} ""
// {{{ 4 1 0 "f8519dc4_0050_4987_b01808cf1349e799" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetIntegerProperty(ErrorObject, Translate("Code"), Code);
// }} ""
// {{{ 5 1 0 "ddceff86_87ab_4a08_b595a327a4345e11" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Code = ErrCode(ID);
// }} ""
// {{{ 6 1 0 "1f17a0ee_70bd_4d71_b90a6bc2b1e671af" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetIntegerProperty(ErrorObject, Translate("Major"), Major);
// }} ""
// {{{ 7 1 0 "b81e2562_d764_4494_a6039105afaeef93" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Major = ErrMajor(ID);
// }} ""
// {{{ 8 1 0 "bf30d747_1bca_438d_b78034e5f93aa656" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetIntegerProperty(ErrorObject, Translate("Minor"), Minor);
// }} ""
// {{{ 9 1 0 "2e70c674_a5a5_44d6_a9755991278461a5" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Minor = ErrMinor(ID);
// }} ""
// {{{ 10 1 0 "8c8a55b6_e1cc_428e_b4e113116f18276d" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetIntegerProperty(ErrorObject, Translate("Description"), Description);
// }} ""
// {{{ 11 1 0 "a104329b_e7eb_4894_b279e756620a1996" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Description = ErrGetDescription();
// }} ""
// {{{ 12 1 0 "7bbf9788_82ad_4e90_9b17d15bfa7acdd9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
NumErrorData = ErrGetDataAt(0);
// }} ""
// {{{ 13 1 0 "7996ba04_013c_45e6_b80cedc7f5254e00" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetArray(ErrorObject, Translate("Data"));
// }} ""
// {{{ 14 1 0 "3212f911_f5c4_4416_b981e63b7e11446b" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetArrayLength(ErrorObject, Translate("Data"), NumErrorData);
// }} ""
// {{ 15 1 0 "14a4fe76_a6c6_4139_8c325935c7c3261a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
{
for(Counter = 0; Counter < NumErrorData;)
{
Counter = Counter + 1;
// }} ""
// {{{ 16 1 0 "e5cc864f_0ba3_480f_860f101654eadfc6" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Data = ErrGetDataAt(Counter);
// }} ""
// {{{ 17 1 0 "77b54c95_76ac_4ea7_930eb975718b9438" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Test = Util::IsFloat(Data);
// }} ""
// {{ 18 1 0 "2d0fe937_a829_42ef_9fd3e41e43100696" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Test == 1)
{
// }} ""
// {{{ 19 1 0 "d150cedd_16ff_4346_8b987a541ea3b250" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetFloatArrayElement(ErrorObject, Translate("Data"), Counter, Data);
// }} ""
// {{ 20 1 0 "2d0fe937_a829_42ef_9fd3e41e43100696" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 21 1 0 "64c15f83_2a1d_43ec_b570471a4ccd1e51" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Test = Util::IsInteger(Data);
// }} ""
// {{ 22 1 0 "b39bfd39_daff_41ab_b244ebc73c015b00" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Test == 1)
{
// }} ""
// {{{ 23 1 0 "96e49cf9_1a20_4a62_9a8d7ada238a5d9c" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetIntegerArrayElement(ErrorObject, Translate("Data"), Counter, Data);
// }} ""
// {{ 24 1 0 "b39bfd39_daff_41ab_b244ebc73c015b00" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 25 1 0 "0b9af6db_585e_4d68_b10ca661aab12ec9" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
Test = Util::IsString(Data);
// }} ""
// {{ 26 1 0 "e9d9069f_a3e7_47de_a860fd5ad7cb2bba" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
if (Test == 1)
{
// }} ""
// {{{ 27 1 0 "549164df_7d1b_49f6_ad4063163b1b2d80" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetStringArrayElement(ErrorObject, Translate("Data"), Counter, Data);
// }} ""
// {{ 28 1 0 "e9d9069f_a3e7_47de_a860fd5ad7cb2bba" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
else
{
// }} ""
// {{{ 29 1 0 "0d8ece1e_2149_4912_8d77bb3c4a7132e2" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetBooleanArrayElement(ErrorObject, Translate("Data"), Counter, Data);
// }} ""
// {{ 30 1 0 "e9d9069f_a3e7_47de_a860fd5ad7cb2bba" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 31 1 0 "b39bfd39_daff_41ab_b244ebc73c015b00" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 32 1 0 "2d0fe937_a829_42ef_9fd3e41e43100696" "{B31F3531-5D80-11d4-A5EB-0050DA737D89}"
}
// }} ""
// {{ 33 1 0 "14a4fe76_a6c6_4139_8c325935c7c3261a" "{B31F3532-5D80-11d4-A5EB-0050DA737D89}"
}
}
// }} ""
// {{{ 34 1 0 "0fad4625_ae1e_4fad_8b84407367d7153a" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
ErrClear();
// }} ""
// {{{ 35 1 0 "8bc001d9_fc15_464c_a84f44be67255751" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::SetJsonProperty(JsonObject, Translate("Error"), ErrorObject);
// }} ""
// {{{ 36 1 0 "5e0d61e5_926c_40b3_b84f64e4ef9d9500" "{C1F3C015-47B3-4514-9407-AC2E65043419}"
HSLJsonLib::Release(ErrorObject);
// }} ""
// {{{ 5 "ExtractErrorInfo" "End"
}
// }} ""
/* {{ 2 "SubmethodInsertLine" "" */ // }} ""
// {{{ 2 "LibraryNamespace" "End"
} // library namespace
// }} ""
// $$author=BAREB$$valid=0$$time=2023-11-17 14:24$$checksum=5e75b3b6$$length=084$$